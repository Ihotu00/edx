{% extends "layout.html" %}

{% block title %}
    Quote
{% endblock %}

{% block main %}
    <table class="table table-success table-hover">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Symbol</th>
                <th scope="col">Shares</th>
                <th scope="col">Price</th>
                <th scope="col">Total</th>
            </tr>
        </thead>
        <tbody>
            <tr {% for data in user_data %} >
                <th scope="row">{{ loop.index }}</th>
                <td>{{ data["symbol"] | upper }}</td>
                <td>{{ data["shares"] }}</td>
                <td>{{ data["price"] | usd}}</td>
                <td>{{ data["worth"] | usd }}</td>
            </tr {% endfor %}>
        </tbody>
        <tfoot>
            <tr>
                <th colspan="4" class="text-end">Cash</th>
                <td>{{ cash | usd }}</td></tr>
            <tr>
                <th colspan="4" class="text-end">TOTAL</th>
                <td>{{ total | usd }}</td>
            </tr>
        </tfoot>
    </table>
{% endblock %}

<!-- CREATE TABLE users_shares_history(
   user_shares_id           INT NOT NULL,
   symbol         VARCHAR(255)      NOT NULL,
   shares         INT      NOT NULL,
   action VARCHAR(255) check("action" in ('buy', 'sell')) NOT NULL,
   creation_date DATE DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE users_shares(
   id INTEGER PRIMARY KEY,
   user_id           INT NOT NULL,
   symbol         VARCHAR(255)      NOT NULL,
   shares         INT      NOT NULL,
   creation_date DATE DEFAULT CURRENT_TIMESTAMP,
   unique(user_id, symbol)
);-->
